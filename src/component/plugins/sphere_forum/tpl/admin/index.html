{% extends 'struct.html' %}

{% block content %}
<div class="container-fluid">
    <div class="card custom-card">
        <div class="card-header justify-content-between">
            <div class="card-title">
                <a href="/admin/extensions/paid" class="border text-muted me-2">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="currentColor"><path d="M12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2ZM12 20C16.42 20 20 16.42 20 12C20 7.58 16.42 4 12 4C7.58 4 4 7.58 4 12C4 16.42 7.58 20 12 20ZM12 11H16V13H12V16L8 12L12 8V11Z"></path></svg>
                </a>
                {{phrase('internal_sphere_forum')}}
            </div>
            <div class="prism-toggle">
                <div class="custom-toggle-switch d-flex align-items-center ">
                    <input class="pluginActivating" id="enablePlugin" name="{{ pluginName }}" type="checkbox" {% if getPluginActive(pluginName) %}checked=""{% endif %}>
                    <label for="enablePlugin" class="label-success"></label><span class="ms-3">{{phrase('Activating the plugin')}}</span>
                </div>
            </div>
        </div>
        <div class="card-body">

            {% if getPluginActive('sphere_forum') == false %}
            <div class="alert alert-danger" role="alert">
                {{phrase('plugin_disabled_message')|raw}}
            </div>
            {% endif %}

            <div class="alert alert-info" role="alert">
                {{phrase('plugin_description_sphere_forum')|raw}}
            </div>

            <!-- Кнопка управления настройками форума -->
            <div class="mb-4">
                <h5 class="mb-3">{{phrase('forum_management')}}</h5>
                <a href="/admin/sphere/forum/settings" class="btn btn-primary">
                    <i class="bi bi-gear me-2"></i>{{phrase('forum_settings')}}
                </a>
                <a href="/forum/moderators" class="btn btn-secondary ms-2">
                    <i class="bi bi-person-badge me-2"></i>{{phrase('moderators')}}
                </a>
                <a href="/forum/user-blocks" class="btn btn-secondary ms-2">
                    <i class="bi bi-shield-exclamation me-2"></i>{{phrase('user_blocks')}}
                </a>
            </div>

            <hr class="my-4">

            <h5 class="mb-3">{{phrase('display_settings')}}</h5>
            <div class="form-check">
                <input data-type="bool" class="form-check-input pluginSetting" type="checkbox" value="" id="showMainPage" {% if setting.showMainPage %}checked=""{% endif %}>
                <label class="form-check-label" for="showMainPage">
                    {{ phrase('Show on main page') }}
                </label>
            </div>
            <div class="form-check">
                <input data-type="bool" class="form-check-input pluginSetting" type="checkbox" value="" id="addToMenu" {% if setting.addToMenu %}checked=""{% endif %}>
                <label class="form-check-label" for="addToMenu">
                    {{ phrase('Add to menu') }}
                </label>
            </div>

        </div>

    </div>
</div>
{% endblock %}

{% block js %}
<script>
    const pluginName = "{{pluginName}}";
    const pluginActive = "{{pluginActive}}";
</script>
<script src="{{template}}/assets/js/spherePlugin.js?v=0.0.4"></script>

{% endblock %}
