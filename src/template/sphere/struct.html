<!DOCTYPE html>
<html lang="en" dir="ltr" {% for key, value in config().palette().getAll() %} {{key}}="{{value}}" {% endfor %}>

<head>

  <!-- Meta Data -->
  <meta charset="UTF-8">
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>

  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>{% block title %}{% endblock %} {{ config().other().getAllTitlePage() }}</title>
  <meta name="Description" content="{{ config().other().getAllTitlePage() }}">
  <meta name="keywords" content="{{ config().other().getKeywords() }}">

  <meta property="og:title" content="{{ config().other().getAllTitlePage() }}">
  <meta property="og:description" content="{{ config().other().getKeywords() }}">
  <meta property="og:image" content="{{config().logo().getLogo()}}">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="{{ config().other().getAllTitlePage() }}">

  {{ config().logo().favicon() }}

  {% block head %}{% endblock %}

  {% if config().other().isL2Cursor() %}
  <style>
    body {
      cursor: url('{{template}}/assets/cursor/lineage2/default.cur'),
      auto;
    }

    a:hover {
      cursor: url('{{template}}/assets/cursor/lineage2/link.cur'),
      pointer;
    }
  </style>
  {% endif %}

  {% if config().menu().isNeonEffects() %}
  <link rel="stylesheet" href="{{template}}/assets/css/menu-neon.css">
  {% endif %}

  <!-- Choices JS -->
  <script src="{{template}}/assets/libs/choices.js/public/assets/scripts/choices.min.js"></script>

  <!-- Main Theme Js -->
  <script src="{{template}}/assets/js/main.js?v=4"></script>

  <!-- Bootstrap Css -->
  <link id="style" href="{{template}}/assets/libs/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Style Css -->
  <link href="{{template}}/assets/css/{{ config().palette().styleFile() }}?v=0.0.0.3" rel="stylesheet">

  <!-- Icons Css -->
  <link href="{{template}}/assets/css/icons.css" rel="stylesheet">

  <!-- Node Waves Css -->
  <link href="{{template}}/assets/libs/node-waves/waves.min.css" rel="stylesheet">

  <!-- Simplebar Css -->
  <link href="{{template}}/assets/libs/simplebar/simplebar.min.css" rel="stylesheet">

  <!-- Choices Css -->
  <link rel="stylesheet" href="{{template}}/assets/libs/choices.js/public/assets/styles/choices.min.css">

  {% block css %}{% endblock %}

  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

  <style>
    /* Скрыть кнопку вызова меню на экранах больше 992px */
    @media (min-width: 992px) {
      .sidemenu-toggle {
        display: none !important;
      }
    }

    /* Показать кнопку вызова меню на экранах меньше 992px */
    @media (max-width: 991px) {
      .sidemenu-toggle {
        display: block !important;
      }
    }
  </style>

  {{ config().other().getAnalyticsHead()|raw }}

</head>

<body class="has-video-bg">

  {{ config().other().getAnalyticsBody()|raw }}

  {% set s = config().palette().getStyleFileConfig() %}
  {% if s is not null and s.video is defined and s.video %}
    {{ s.video_to_body|raw }}
  {% endif %}
   
  {{ include('modals.html') }}

  <div class="page">
    <!-- app-header -->
    {{ include('header.html') }}

    <!-- Start::app-sidebar -->
    {{ include('sidebar.html') }}

    <!-- Start::app-content -->
    <div class="main-content app-content">
      {% block content %}{% endblock %}
    </div>
    <!-- End::app-content -->

  </div>


  {% if licenseCheck is defined and licenseCheck is same as(false) %}
  <style>
    #bottom-ticker { position: fixed; left: 0; right: 0; bottom: 0; height: 25px; background: rgba(0,0,0,0.85); color: #fff; z-index: 1050; overflow: hidden; display: flex; align-items: center; font-size: 13px; }
    #bottom-ticker .ticker-wrap { position: relative; width: 100%; height: 100%; padding-left: 12px; overflow: hidden; }
    #bottom-ticker .message { display: inline-block; position: relative; left: 12px; top: 50%; transform: translateY(-50%); white-space: nowrap; opacity: 1; }
    @media (prefers-reduced-motion: reduce) { #bottom-ticker .message { transition: none !important; } }
  </style>

  <div id="bottom-ticker" role="status" aria-live="polite">
      <div class="ticker-wrap">
      <span id="ticker-msg" class="message">{{ phrase('license_ticker_expired')|raw }}</span>
    </div>
  </div>
  <script>
    (function($){
      var msgs = [
        '{{ phrase("license_ticker_expired")|raw }}',
        '{{ phrase("license_ticker_l2wow")|raw }}',
        '{{ phrase("license_ticker_sphereweb")|raw }}'
      ];
      var idx = 0;
      var $el = $('#ticker-msg');
      var fade = 900; // ms
      var display = 6000; // ms visible between fades
      function next(){
        $el.fadeOut(fade, function(){
          idx = (idx + 1) % msgs.length;
          $el.html(msgs[idx]).fadeIn(fade, function(){
            setTimeout(next, display);
          });
        });
      }
      setTimeout(next, display);
    })(jQuery);
  </script>
  {% endif %}

  <div class="scrollToTop">
    <span class="arrow"><i class="ri-arrow-up-s-fill fs-20"></i></span>
  </div>
  <div id="responsive-overlay"></div>

  {{ include('notice_toast.html') }}

  {{ include('struct_js.html') }}
  <script>
    var currentPath = window.location.pathname;
    $('.side-menu__item').each(function () {
      var $this = $(this);
      var href = $this.attr('href');
      var isActive = (href === currentPath) ||
        (href === '/' && currentPath === '/') ||
        (href !== '/' && href !== 'javascript:void(0);' && currentPath.startsWith(href));
      if (isActive) {
        $this.addClass('text-success');
        $this.parentsUntil('.side-menu', '.slide-menu').show();
        $this.parentsUntil('.side-menu', '.has-sub').each(function () {
          $(this).children('.side-menu__item').find('.fe-chevron-right')
            .removeClass('fe-chevron-right')
            .addClass('fe-chevron-down');
        });
      }
    });
  </script>
  {% block js %}{% endblock %}
  
  <!-- Load: {{pointTime}} sec. / Query count: {{get_db_count_request()}} / Sphere Api Request: {{get_sphere_api_count_request()}} -->
</body>

</html>